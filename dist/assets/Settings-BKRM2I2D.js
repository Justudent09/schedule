import{u as p,a as N,j as e}from"./index-BgV78vbC.js";import{u as g,r as c}from"./vendor-oWgAp0Sa.js";import{l as v}from"./lottie-B53jbFiN.js";const D=()=>{const u=g(),{userRole:i,userYear:r,userDirection:t,clearUserData:d}=p(),o=c.useRef(null),[l,m]=c.useState({role:"",year:"",direction:""});N(()=>u("/")),c.useEffect(()=>{if(o.current){const s=v.loadAnimation({container:o.current,renderer:"svg",loop:!0,autoplay:!0,path:"/assets/DuckEmojiProfile.json"});return()=>s.destroy()}},[]),c.useEffect(()=>{if(i&&r&&t){const s=new Date,n=s.getFullYear(),a=s.getMonth()+1<=6?n-parseInt(r):n-parseInt(r)+1,x=i==="student"?"Студент":"Препод",h=(()=>{switch(a){case 1:case 4:case 5:return a+"-ый";case 2:case 6:return a+"-ой";case 3:return a+"-ий";default:return a+"-й"}})(),j=(()=>{switch(t){case"pmi":return"ПМИ";case"mng":return"Мен.";case"jur":return"Юр.";case"phr":return"Фарм.";case"bio":return"Био.";default:return t}})();m({role:x,year:h,direction:j})}},[i,r,t]);const f=()=>{var s;(s=window.Telegram)!=null&&s.WebApp&&window.Telegram.WebApp.showConfirm("Вы точно хотите выйти?",n=>{n&&d().then(()=>{u("/")})})};return e.jsxs("main",{className:"settings",children:[e.jsx("div",{className:"animation-container",ref:o}),e.jsx("div",{className:"block profile-header",children:"Профиль"}),e.jsxs("div",{className:"block",children:[e.jsx("i",{className:"fa-regular fa-user"})," Статус",e.jsx("div",{className:"info",children:l.role})]}),e.jsx("div",{className:"line"}),e.jsxs("div",{className:"block",children:[e.jsx("i",{className:"fa-regular fa-calendar"})," Курс",e.jsx("div",{className:"info",children:l.year})]}),e.jsx("div",{className:"line"}),e.jsxs("div",{className:"block",children:[e.jsx("i",{className:"fa-regular fa-clone"})," Направление",e.jsx("div",{className:"info",children:l.direction})]}),e.jsx("button",{className:"button",onClick:f,children:"Выйти"}),e.jsx("div",{className:"block info-text",children:'Нажмите "Выйти" и зарегистрируйтесь заново, чтобы поменять ваш статус, направление или курс'})]})};export{D as default};
