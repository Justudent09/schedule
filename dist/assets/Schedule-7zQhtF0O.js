import{a as S,j as e}from"./index-BgV78vbC.js";import{u as C,r as a}from"./vendor-oWgAp0Sa.js";import{l as D}from"./lottie-B53jbFiN.js";const $=()=>{const d=C(),m=a.useRef(null),x=a.useRef(null),l=a.useRef(null),[j,v]=a.useState(0),[c,f]=a.useState(!1),[u,h]=a.useState(null);S(()=>{},!1),a.useEffect(()=>{var s;(s=window.Telegram)!=null&&s.WebApp&&(window.Telegram.WebApp.SettingsButton.show(),window.Telegram.WebApp.SettingsButton.onClick(()=>d("/settings")))},[d]),a.useEffect(()=>{if(l.current){const s=D.loadAnimation({container:l.current,renderer:"svg",loop:!0,autoplay:!0,path:"/assets/DuckEmojiSkeleton.json"});return()=>s.destroy()}},[]),a.useEffect(()=>{const s=m.current;if(!s)return;const t=()=>{const r=s.offsetWidth,i=s.scrollLeft,o=Math.round(i/r);v(o)};return s.addEventListener("scroll",t),()=>s.removeEventListener("scroll",t)},[]);const n=[{title:"Зачётная неделя: лайфхаки от отличников.",color:"color-mix(in srgb, var(--accent-text-color) 50%, var(--destructive-text-color) 50%)",animation:"/assets/DuckEmojiPodcast.json"},{title:"Киберспорт в вузе: CS2 соберёт лучших игроков.",color:"var(--accent-text-color)",animation:"/assets/DuckEmojiGaming.json"},{title:"47Par: глобальное обновление вышло!",color:"var(--destructive-text-color)",animation:"/assets/DuckEmojiUpdate.json"}],N=s=>{const t=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],r=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],i=t[s.getDay()],o=s.getDate(),E=r[s.getMonth()];return`${i}, ${o} ${E}`},p=s=>{f(!c)},g=()=>{p()},w=s=>{h(s)},k=()=>{h(null)};return e.jsxs("main",{className:"schedule-page",children:[e.jsxs("div",{className:`horizontal-scroll ${c?"expanded":""}`,ref:m,children:[e.jsx("div",{className:"news",children:"НОВОСТИ"}),e.jsx("div",{className:"pagination",children:n.map((s,t)=>e.jsx("div",{className:`button ${t===j?"active":""}`},t))}),e.jsx("div",{className:"scroll-container",children:n.map((s,t)=>e.jsxs("div",{className:"scroll-item",style:{backgroundColor:s.color},onClick:()=>w(t),children:[e.jsx("div",{className:"text",children:s.title}),e.jsx("div",{className:"animation-container",id:`animation-container-${t+1}`})]},t))})]}),e.jsxs("div",{className:`schedule ${c?"expanded":""}`,children:[e.jsxs("div",{className:"schedule-top",children:[e.jsxs("div",{className:"arrow-wrapper",ref:x,onClick:g,children:[e.jsx("div",{className:"arrow-rect arrow-part-1"}),e.jsx("div",{className:"arrow-rect arrow-part-2"})]}),e.jsxs("div",{className:"schedule-header",children:[e.jsxs("div",{children:[e.jsx("div",{className:"schedule-text",children:"Расписание"}),e.jsx("div",{className:"date",children:N(new Date)})]}),e.jsx("div",{className:"animation-mood",ref:l})]})]}),e.jsxs("div",{className:"schedule-list",id:"schedule-list",children:[e.jsxs("div",{className:"schedule-item",children:[e.jsx("div",{className:"time",children:"09:00"}),e.jsx("div",{className:"subject",children:"Математический анализ"}),e.jsx("div",{className:"room",children:"Ауд. 101"})]}),e.jsxs("div",{className:"schedule-item",children:[e.jsx("div",{className:"time",children:"10:30"}),e.jsx("div",{className:"subject",children:"Программирование"}),e.jsx("div",{className:"room",children:"Ауд. 205"})]})]})]}),u!==null&&e.jsx("div",{className:"fullscreen-overlay",onClick:k,children:e.jsx("div",{className:"fade",children:e.jsxs("div",{className:"fullscreen-content",children:[e.jsx("div",{className:"fullscreen-animation",id:"fullscreen-animation"}),e.jsxs("div",{className:"fullscreen-text",id:"fullscreen-text",children:[e.jsx("h2",{children:n[u].title}),e.jsx("p",{children:"Подробная информация о новости..."})]})]})})})]})};export{$ as default};
